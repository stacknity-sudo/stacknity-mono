/* ===== Theme System Integration ===== */
/* The ThemeProvider will automatically inject theme CSS custom properties */
/* This includes colors, fonts, spacing, and border-radius values */

:root {
  /* Primary Colors - Light Mode */
  --primary-blue: #1d6fe0;
  --vibrant-coral: #ff6b6b;
  --bright-lime-green: #3ad29f;
  --golden-yellow: #ffce45;

  /* Brand Colors */
  --brand-primary: #0066ff; /* Electric Blue - Primary actions */
  --brand-secondary: #00d4aa; /* Modern Teal - Secondary actions */
  --brand-accent: #ff6b35; /* Vibrant Orange - Highlights */

  /* Background Layers */
  --bg-primary: var(--background); /* Maps to existing */
  --surface-secondary: var(--surface-secondary); /* Maps to existing */
  --border-interactive: var(--border-secondary); /* Maps to existing */

  /* Interactive States */
  --interactive-hover: rgba(0, 102, 255, 0.08);
  --border-accent: var(--brand-primary);

  /* Elevation System */
  --elevation-2: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --elevation-3: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06);
  /* Component Sizing */
  --button-height-md: 2.5rem; /* 40px */

  /* Secondary/Accent Colors - Light Mode */
  --cool-teal: #00b3a4;
  --deep-indigo: #303e8f;
  --electric-orange: #ff8c42;
  --light-lavender: #d4b5ff;
  --neutral-gray: #f5f6f8;

  /* Primary Colors - Dark Mode */
  --primary-blue-dark: #4a8dff;
  --vibrant-coral-dark: #ff8080;
  --bright-lime-green-dark: #4be0b8;
  --golden-yellow-dark: #ffd75e;

  /* Secondary/Accent Colors - Dark Mode */
  --cool-teal-dark: #2bd8c6;
  --deep-indigo-dark: #8894ff;
  --light-lavender-dark: #d4b5ff;

  /* Surface & Background Colors - Light Mode */
  --background: #ffffff;
  --surface-primary: #ffffff;
  --surface-secondary: #f8fafc;
  --surface-tertiary: #f1f5f9;
  --card-background: #ffffff;

  /* Surface & Background Colors - Dark Mode */
  --dark-surface: #121317;
  --card-background-dark: #1a1b21;
  --neutral-gray-dark: #1e1f26;

  /* Text Colors - Light Mode */
  --text-primary: #1e293b;
  --text-secondary: #475569;
  --text-tertiary: #64748b;
  --text-muted: #94a3b8;

  /* Text Colors - Dark Mode */
  --text-primary-dark: #ffffff;
  --text-secondary-dark: #b4b5c0;
  --text-tertiary-dark: #9ca3af;

  /* Border Colors */
  --border-primary: #e2e8f0;
  --border-secondary: #cbd5e1;
  --border-accent: #93c5fd;

  /* Interactive States */
  --hover-primary: #3b82f6;
  --focus-ring: #3b82f680;
  --success: #10b981;
  --warning: #f59e0b;
  --error: #ef4444;

  /* Code Block Colors */
  --code-bg: #f8fafc;
  --code-border: #e2e8f0;
  --code-text: #374151;
  --code-keyword: #7c3aed;
  --code-string: #059669;
  --code-comment: #6b7280;
  --code-function: #dc2626;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1),
    0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1),
    0 8px 10px -6px rgb(0 0 0 / 0.1);

  /* Spacing Scale */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;

  /* Border Radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.5rem;

  --foreground: var(--text-primary);

  /* Theme-agnostic color aliases for components */
  --color-primary: var(--primary-blue);
  --color-accent: var(--electric-orange);
  --color-success: var(--bright-lime-green);
  --color-warning: var(--golden-yellow);
  --color-info: var(--cool-teal);
  --color-contrast: var(--deep-indigo);
  --color-muted: var(--neutral-gray);

  /* White text for buttons and active states */
  --text-white: #ffffff;

  /* Badge/Label Colors - Light Mode */
  --label-blue: #1e40af;
  --label-blue-bg-start: #dbeafe;
  --label-blue-bg-end: #bfdbfe;

  --label-yellow: #92400e;
  --label-yellow-bg-start: #fef3c7;
  --label-yellow-bg-end: #fde68a;

  --label-purple: #7c3aed;
  --label-purple-bg-start: #f3e8ff;
  --label-purple-bg-end: #e9d5ff;

  --label-red: #dc2626;
  --label-red-bg-start: #fee2e2;
  --label-red-bg-end: #fecaca;

  --label-orange: #ea580c;
  --label-orange-bg-start: #fed7aa;
  --label-orange-bg-end: #fdba74;

  /* Dark Badge Colors for Language Headers */
  --lang-header-blue-start: #1e3a8a;
  --lang-header-blue-end: #1e40af;
  --lang-header-blue-text: #bfdbfe;

  /* Language header border colors with transparency */
  --border-javascript: rgba(247, 147, 30, 0.3);
  --border-jsx: rgba(33, 169, 199, 0.3);
  --border-python: rgba(48, 105, 152, 0.3);
  --border-html: rgba(240, 101, 41, 0.3);
  --border-css: rgba(51, 169, 220, 0.3);
  --border-sql: rgba(78, 123, 167, 0.3);

  /* Dotted background patterns - Light mode defaults */
  --dotted-pattern-small: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.08) 1px,
    transparent 1px
  );
  --dotted-pattern-medium: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.06) 1.5px,
    transparent 1.5px
  );
  --dotted-pattern-large: radial-gradient(
    circle,
    rgba(0, 0, 0, 0.04) 2px,
    transparent 2px
  );
  --dotted-size-small: 8px 8px;
  --dotted-size-medium: 12px 12px;
  --dotted-size-large: 16px 16px;

  /* ---------------------- */
  /* Added Design Tokens to match component usages */
  /* Spacing aliases (components reference --spacing-* ) */
  --spacing-1: var(--space-xs); /* 0.25rem */
  --spacing-2: var(--space-sm); /* 0.5rem */
  --spacing-3: 0.75rem; /* 12px */
  --spacing-4: var(--space-md); /* 1rem */
  --spacing-5: 1.25rem; /* 20px */
  --spacing-6: var(--space-lg); /* 1.5rem */
  --spacing-7: 1.75rem; /* (optional) 28px */
  --spacing-8: var(--space-xl); /* 2rem */

  /* Font sizes (referenced by role & UI modules) */
  --font-size-xs: 0.75rem; /* 12px */
  --font-size-sm: 0.875rem; /* 14px */
  --font-size-base: 1rem; /* 16px */
  --font-size-lg: 1.125rem; /* 18px */
  --font-size-xl: 1.25rem; /* 20px */
  --font-size-2xl: 1.5rem; /* 24px */

  /* Font weights */
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Radius additions */
  --radius-full: 9999px;

  /* Border hover (used in cards / selectors) */
  --border-hover: var(--border-secondary);

  /* Danger & status colors (used by actions) */
  --color-danger: var(--error);
  --color-danger-hover: #dc2626; /* darker shade */
  --color-danger-bg: rgba(239, 68, 68, 0.08);

  /* Accent background (e.g., for hierarchy level pills) */
  --color-accent-bg: color-mix(in srgb, var(--color-accent) 15%, transparent);

  /* Enhanced Transitions */
  --transition-colors: color 200ms ease, background-color 200ms ease,
    border-color 200ms ease;
  --transition-shadow: box-shadow 200ms ease;
}

/* Reintroduced build-time font-face declarations for Outfit to ensure SSR paint uses intended font.
   These complement the preloads and allow immediate layout without UA fallback.
   If the ThemeProvider also injects @font-face, you can remove that injection to avoid duplication. */
@font-face {
  font-family: "Outfit";
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url("/fonts/outfit/Outfit-Regular.woff2") format("woff2");
}
@font-face {
  font-family: "Outfit";
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url("/fonts/outfit/Outfit-Medium.woff2") format("woff2");
}
@font-face {
  font-family: "Outfit";
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: url("/fonts/outfit/Outfit-SemiBold.woff2") format("woff2");
}
@font-face {
  font-family: "Outfit";
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url("/fonts/outfit/Outfit-Bold.woff2") format("woff2");
}

/* Dark mode overrides */
.dark {
  --background: var(--dark-surface);
  --foreground: var(--text-primary-dark);
  --surface-primary: var(--card-background-dark);
  --surface-secondary: var(--neutral-gray-dark);
  --surface-tertiary: #262730;
  --card-background: var(--card-background-dark);

  --text-primary: var(--text-primary-dark);
  --text-secondary: var(--text-secondary-dark);
  --text-tertiary: var(--text-tertiary-dark);

  --border-primary: #374151;
  --border-secondary: #4b5563;
  --border-accent: #60a5fa;

  --code-bg: var(--neutral-gray-dark);
  --code-border: #374151;
  --code-text: #e5e7eb;
  --code-keyword: #a78bfa;
  --code-string: #34d399;
  --code-comment: #9ca3af;
  --code-function: #fca5a5;

  /* Theme-agnostic color aliases for components - Dark mode */
  --color-primary: var(--primary-blue-dark);
  --color-accent: var(--light-lavender-dark);
  --color-success: var(--bright-lime-green-dark);
  --color-warning: var(--golden-yellow-dark);
  --color-info: var(--cool-teal-dark);
  --color-contrast: var(--deep-indigo-dark);
  --color-muted: var(--neutral-gray-dark);

  /* Badge/Label Colors - Dark Mode (softer versions) */
  --label-blue: #60a5fa;
  --label-blue-bg-start: #1e3a8a;
  --label-blue-bg-end: #1d4ed8;

  --label-yellow: #fbbf24;
  --label-yellow-bg-start: #92400e;
  --label-yellow-bg-end: #b45309;

  --label-purple: #a78bfa;
  --label-purple-bg-start: #581c87;
  --label-purple-bg-end: #6d28d9;

  --label-red: #f87171;
  --label-red-bg-start: #991b1b;
  --label-red-bg-end: #dc2626;

  --label-orange: #fb923c;
  --label-orange-bg-start: #c2410c;
  --label-orange-bg-end: #ea580c;

  /* Dotted background patterns - Dark mode */
  --dotted-pattern-small: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.08) 1px,
    transparent 1px
  );
  --dotted-pattern-medium: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.06) 1.5px,
    transparent 1.5px
  );
  --dotted-pattern-large: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.04) 2px,
    transparent 2px
  );

  /* Dark mode derivations for newly added tokens */
  --border-hover: var(--border-secondary);
  --color-danger: var(--error);
  --color-danger-hover: #f87171; /* lighter for dark bg */
  --color-danger-bg: rgba(239, 68, 68, 0.18);
  --color-accent-bg: color-mix(in srgb, var(--color-accent) 25%, transparent);

  --brand-primary: #3b82f6; /* Slightly lighter blue for dark mode */
  --interactive-hover: rgba(59, 130, 246, 0.1);
  --elevation-2: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
  --elevation-3: 0 4px 6px -1px rgba(0, 0, 0, 0.3),
    0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

/* Fallback for system preference when no theme class is applied */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    --background: var(--dark-surface);
    --foreground: var(--text-primary-dark);
    --surface-primary: var(--card-background-dark);
    --surface-secondary: var(--neutral-gray-dark);
    --surface-tertiary: #262730;
    --card-background: var(--card-background-dark);

    --text-primary: var(--text-primary-dark);
    --text-secondary: var(--text-secondary-dark);
    --text-tertiary: var(--text-tertiary-dark);

    --border-primary: #374151;
    --border-secondary: #4b5563;
    --border-accent: #60a5fa;

    --code-bg: var(--neutral-gray-dark);
    --code-border: #374151;
    --code-text: #e5e7eb;
    --code-keyword: #a78bfa;
    --code-string: #34d399;
    --code-comment: #9ca3af;
    --code-function: #fca5a5;

    /* Theme-agnostic color aliases for components - System dark fallback */
    --color-primary: var(--primary-blue-dark);
    --color-accent: var(--light-lavender-dark);
    --color-success: var(--bright-lime-green-dark);
    --color-warning: var(--golden-yellow-dark);
    --color-info: var(--cool-teal-dark);
    --color-contrast: var(--deep-indigo-dark);
    --color-muted: var(--neutral-gray-dark);

    /* Dotted background patterns - Dark mode fallback */
    --dotted-pattern-small: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.08) 1px,
      transparent 1px
    );
    --dotted-pattern-medium: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.06) 1.5px,
      transparent 1.5px
    );
    --dotted-pattern-large: radial-gradient(
      circle,
      rgba(255, 255, 255, 0.04) 2px,
      transparent 2px
    );
  }
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

body {
  color: var(--foreground);
  background-color: var(--background);
  /* ThemeProvider injects --font-primary; fallback chain prevents UA default flash */
  font-family: var(--font-primary, "Outfit", Roboto, system-ui, sans-serif);
}

/* Ensure all form elements inherit the font-family from their parent */
input,
button,
select,
textarea,
optgroup {
  font-family: inherit;
  font-size: inherit;
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

a {
  color: inherit;
  text-decoration: none;
}

/* Custom Scrollbar Styles */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: var(--surface-secondary);
  border-radius: 11px;
}

::-webkit-scrollbar-thumb {
  background: var(--primary-blue);
  border-radius: 11px;
  transition: background 0.3s ease;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--hover-primary);
}

/* Dark mode scrollbar */
.dark ::-webkit-scrollbar-track {
  background: var(--neutral-gray-dark);
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--primary-blue-dark);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--cool-teal-dark);
}

/* Firefox scrollbar customization */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-blue) var(--surface-secondary);
}

.dark * {
  scrollbar-color: var(--primary-blue-dark) var(--neutral-gray-dark);
}

@media (prefers-color-scheme: dark) {
  html:not(.light):not(.dark) {
    color-scheme: dark;
  }
}

.dark {
  color-scheme: dark;
}

.light {
  color-scheme: light;
}

/* Admin Layout Responsive Styles */
@media (max-width: 1024px) {
  .admin-main-content {
    margin-left: 0 !important;
  }
}
